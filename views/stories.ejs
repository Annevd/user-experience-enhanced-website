<%- include('./partials/head') %>

<%- include('./partials/navigation', {current: '/lessons'}); %>

<main class="all-stories">

    <section class="stories-head">

        <div class="header">

            <a href="/lessons" aria-label="go back">
                <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M16.3357 5.10128C16.7796 5.54525 16.7796 6.26506 16.3357 6.70902L11.0764 11.9683L16.3357 17.2276C16.7796 17.6716 16.7796 18.3914 16.3357 18.8353C15.8917 19.2793 15.1719 19.2793 14.7279 18.8353L8.66476 12.7722C8.2208 12.3282 8.2208 11.6084 8.66476 11.1644L14.7279 5.10128C15.1719 4.65732 15.8917 4.65732 16.3357 5.10128Z" fill="white"/>
                </svg>
            </a>
            <h2>All stories</h2>
        </div>

        <!-- Zoekbalk -->

        <form class="search"  role="search">
            <label for="search">Search for stories</label>
            <input id="search" type="search" placeholder="Search for stories" required>
            <button type="submit">Go</button>    
        </form>

        <!-- Filters -->

        <fieldset class="filters">
            <label for="select1">Choose animal</label>
            <select name="select" id="select1">
                <option disabled selected value>Animal</option>
                <option value="all">Show all</option>
                <option value="cow">Cow</option>
            </select>

            <label for="select2">Choose season</label>
            <select name="select" id="select2">
                <option disabled selected value>Season</option>
                <option value="all">Show all</option>
            </select>

            <label for="select3">Choose language</label>
            <select name="select" id="select3">
                <option disabled selected value>Language</option>
                <option value="all">Show all</option>
                <option value="english">English</option>
                <option value="dutch">Dutch</option>
            </select>

            <label for="select4">Sort on</label>
            <select name="select" id="select4">
                <option disabled selected value>Sorting</option>
                <option value="a-z">A-Z</option>
                <option value="z-a">Z-A</option>
            </select>
        </fieldset>

    </section>

    <!-- Verhalen -->

    <section class="stories">

        <% if (stories && stories.length > 0) { %>
        <ul class="stories-content">
            <% stories.forEach(story => { %>
            <li class="story">
                <img src="https://fdnd-agency.directus.app/assets/<%= story.image %>" alt="story" onerror="this.onerror=null;this.src='images/sixoclock.png';">
            <div class="story-content">
                <div class="story-title">
                    <h3><%- story.title %></h3>
                    <img src="/assets/united-kingdom-flag.svg" alt="language flag">
                </div>
                <p><%= story.summary.substring(0, 70) %>...</p>
                    <div class="story-footer">
                        <div class="audio-container">
                            <a href="/story:id" aria-label="play">
                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="9" cy="9" r="9" fill="#3A54DE"/>
                                    <path d="M12.8158 9.79593C13.3366 9.39301 13.3365 8.60684 12.8158 8.20391C11.2421 6.98623 9.48482 6.02645 7.60976 5.3605L7.26721 5.23884C6.61187 5.00608 5.91965 5.44948 5.83093 6.12596C5.58305 8.01608 5.58305 9.98377 5.83093 11.8739C5.91965 12.5504 6.61187 12.9938 7.26721 12.761L7.60976 12.6393C9.48482 11.9734 11.2421 11.0136 12.8158 9.79593Z" fill="white"/>
                                </svg>                               
                            </a>
                            <p>31 min. 55sec</p>
                        </div>
                        <div class="download-add">
                            <button title="download">
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8.6875 9.10938H10.6914C12.1416 9.10938 13.3281 8.55013 13.3281 7.11602C13.3281 5.6819 11.9307 5.17882 10.7969 5.12266C10.5625 2.87986 8.9248 1.51562 7 1.51562C5.18066 1.51562 4.00891 2.72298 3.625 3.92031C2.04297 4.07061 0.671875 4.86637 0.671875 6.51484C0.671875 8.16332 2.0957 9.10938 3.83594 9.10938H5.3125" stroke="#B0B0B0" stroke-width="0.84375" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M5.3125 10.7994L7 12.4843L8.6875 10.7994" stroke="#B0B0B0" stroke-width="0.84375" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M7 6.15625V12.0633" stroke="#B0B0B0" stroke-width="0.84375" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>                          
                            </button>
                            <button title="add to playlist">
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="6" cy="6" r="5.5" stroke="#B0B0B0"/>
                                    <rect x="6.42871" y="3" width="6" height="0.857143" rx="0.428571" transform="rotate(90 6.42871 3)" fill="#B0B0B0"/>
                                    <rect x="3" y="5.57141" width="6" height="0.857143" rx="0.428571" fill="#B0B0B0"/>
                                </svg>
                            </button>
                        </div>
                    </div>
            </div>
            </li>
            <% }) %>
        </ul>
        <% } else { %>
            <p>No stories available.</p>
        <% } %>

    </section>

</main>

<%- include('./partials/foot') %>